<div class="game-container">
  <header class="header">
    <a-typography [text]="textHeader"></a-typography>
  </header>

  <div class="content">
    <div class="table-container">
      <a-table></a-table>
      <div class="players-container">
        <div class="player-slot" *ngFor="let player of players">
          <ng-container
            *ngIf="player.viewMode === 'espectador'; else playerView"
          >
            <m-card-label
              [text]="player.name.slice(0, 2).toUpperCase()"
              [cardtype]="'viewer'"
              [labelText]="player.name"
              [labelType]="'small'"
              class="player-card"
            ></m-card-label>
          </ng-container>
          <ng-template #playerView>
            <m-card-label
              [cardtype]="'player'"
              [labelText]="player.name"
              [labelType]="'small'"
              [isSelected]="player.isCardSelected"
              class="player-card"
            ></m-card-label>
          </ng-template>
        </div>
      </div>
    </div>
  </div>

  <div
    class="footer"
    *ngIf="userService.getCurrentUser?.viewMode === 'jugador'"
  >
    <a-typography [type]="textFooterType" [text]="textFooter"></a-typography>
    <div class="footer-options">
      <a-card
        type="choice"
        *ngFor="let card of cards"
        [text]="card.text"
        [isSelected]="card.isSelected || false"
        (cardClick)="onCardSelected(card.id, $event)"
      ></a-card>
    </div>
  </div>
</div>

<div class="overlay" *ngIf="!userService.getCurrentUser">
  <o-create-user
    [textLabel]="textLabel"
    [textLabeljugador]="textLabeljugador"
    [textLabelespectador]="textLabelespectador"
    [textButton]="textButton"
    [labelType]="labelType"
    [jugador]="jugador"
    [espectador]="espectador"
    (formSubmit)="handleCreateUser($event)"
  ></o-create-user>
</div>
