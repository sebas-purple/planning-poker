<div class="table-container">
  <div class="table">
    <ng-container *ngIf="isButtonRevealCardsVisible()">
      <a-button
        *ngIf="!isRevealed"
        [text]="textButtonRevealCards"
        [type]="typeButtonRevealCards"
        (click)="revealCards()"
      ></a-button>

      <!-- BotÃ³n Nueva votaciÃ³n solo visible si las cartas estÃ¡n reveladas -->
      <a-button
        *ngIf="isRevealed"
        [text]="textButtonNewVoting"
        [type]="typeButtonRevealCards"
        (click)="startNewVoting()"
      ></a-button>
    </ng-container>
  </div>
  <div class="players-container">
    <div class="player-slot" *ngFor="let player of players">
      <ng-container *ngIf="player.viewMode === 'espectador'; else playerView">
        <m-card-label
          [text]="player.name.slice(0, 2).toUpperCase()"
          [cardtype]="'viewer'"
          [labelText]="getPlayerDisplayName(player)"
          class="player-card"
          [enableButton]="canManagePlayer(player)"
          [buttonText]="
            gameService.isAdmin(player.id) ? 'âŒ Quitar' : 'ðŸ‘‘ Admin'
          "
          [buttonType]="'quinary'"
          (buttonClicked)="changeAdminStatus(player.id)"
        ></m-card-label>
      </ng-container>
      <ng-template #playerView>
        <!-- solo pasar el texto si isRevealed es true -->
        <m-card-label
          [cardtype]="'player'"
          [labelText]="getPlayerDisplayName(player)"
          [isSelected]="gameService.hasPlayerSelectedCard(player.id)"
          [isRevealed]="isRevealed"
          [text]="
            isRevealed ? gameService.getPlayerSelectedCard(player.id) || '' : ''
          "
          class="player-card"
          [enableButton]="canManagePlayer(player)"
          [buttonText]="
            gameService.isAdmin(player.id) ? 'âŒ Quitar' : 'ðŸ‘‘ Admin'
          "
          [buttonType]="'quinary'"
          (buttonClicked)="changeAdminStatus(player.id)"
        ></m-card-label>
      </ng-template>
    </div>
  </div>
</div>
